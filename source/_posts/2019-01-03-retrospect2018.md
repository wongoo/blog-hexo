---
title: 2018年终小结
author: 望哥
date: 2019-01-03
tags:
- 成长
categories:
- 经验
---

# 2018年终小结

一开始写了一个开头，太正式了，删除了重写！

工作以来，一直习惯了要写年终总结，写得都很正式，主要回顾工作成绩，技能成长，未来个人努力发展方向。这样写主要是要给老板看，好加薪多发年终奖。但今年公司没有要求，写得太正式看着也别扭，还是随心写吧。不过还是草拟了提纲，围绕自己感触较多的四个方面技术、知识感悟、企业组织、生活来写。


## 1. 技术

由于突然有强烈的被技术淘汰的危机感，2016年末的时候毅然从传统技术公司离职到互联网公司，技术接触到的东西就更多，而非当初一个项目一套技术闯天下。今年9月因看不到公司发展前景又离职来到一家小独角兽公司，公司刚起步，技术上积累还没那厚，但一个标准互联网公司该有的技术部门都有，分工也很细致，让我能够接触到各种技术的同事。特别是最近几年机器学习、人工智能的不断发展，大有一种未来不懂人工智能就将会被淘汰的趋势，但要跨入这一行首先需要跨过数学这一道门槛，一看到大堆大堆的数学公式，以及各种数学概念，心凉凉的——这那是门槛，这是一座大山。所以对数学专业的同学特别的仰慕。但不管这样，如果有机会还是想爬一爬这座大山。另外，一直想闲暇时做一个自己的项目，做了一个开头就没有再继续，但恰好提供了时间不时反复思考项目的模式，2019年要多花时间尝试这个项目。

以下针对2018年技术上涉及比较多的几项内容重点回顾一下。


## 1.1. 敏捷

敏捷是自组织沟通协作的方式，主要是在技术团队中展开，以提高团队的效率产出，它跟个人工作方式息息相关，就把它当技术来讲。

2017年开始接触到敏捷，技术总监决定在项目中应用scrum，公司也不反对（技术主要总监说了算）。以项目小组为scrum team，整理sprint backlog，实行每日站会、sprint 计划会、sprint回顾，使用jira来管理任务。团队还是很乐意接受这样的改变，因为工作任务变得有条理，每个sprint的任务也不会过多，不会出现大量的加班，但却有更好质量的产出。公司层面对敏捷实施没有反对，但因公司很少加班觉得缺少互联网公司应有的技术氛围而存在一些抱怨，特别是市场部，他们觉得技术部就应该要加班的。


2018年年初在厦门有一个CSM认证课，总监建议我们几个leader去参加，经过了两天的技术培训，于2018/1/22拿到了CSM认证。回来后我们几个参加CSM培训的一起为公司同事做了一场scrum的培训，我做了一个开头，培训的内容后来整理为了一篇文章《[踏上Scrum敏捷之路](https://blog.sisopipo.com/2018/scrum-guide/)》，前面方法论的部分主要是我的感受(有些案例比较粗糙)，后面复杂度模型、敏捷、敏捷原则、Scrum是整理阐述，最后的总结是我最想表达的内容。

公司已经有多位认证的CSM，实行敏捷自然更少阻碍更多支持。公司引进了teambition、实体看板，并尝试往产品部门、市场部推广，市场部有自己的做事方式没有实行起来，产品部相对比较配合，完善了用户故事，梳理product backlog，实行需求精炼会议、产品验收会议，PO更贴近团队。按照scrum跑了多个迭代，也实现了稳步产出的目标。

但其间也遇到一些问题，比如市场部（idea来源）经常突然要做一些新的需求（事后看大多是头脑发热的想法），导致sprint调整或废弃，有些伤团队元气，特别是做出来的东西最后没人用的情况。

因为按照sprint迭代来跑，每个sprint的任务定量，团队倒是适应，但并没有积极主动的想改进提升效率下个迭代做更多点，也曾意识到是敏捷文化的问题，大家对scrum价值理解和践行不够，和团队特别强调开放和承诺的重要性，略见成效。后来接触到OKR，感觉OKR天生应该和scrum结合，才能发挥自组织的能动性。但OKR是自上而下实行的，公司上层并未支持（可能也是业务方向还摇摆不定），后来团队内部尝试，也很难实行。

后面也尝试梳理产品故事地图来管理用户故事，虽然有梳理，但最后PO太弱也很难实行。


新公司并未实行敏捷，但对需求(使用JIRA和wiki管理)和任务(使用明道管理)进行良好的管理，也有良好的分支和版本规范，没有明确的迭代周期，而是按照需求功能点，做完一个上一个。另外公司还有相关产品指标追踪体系，有这样的基础，实行起敏捷就会相对更快一点。但像上面遇到的那些问题也是需要重点关注的。


## 1.2. 微服务

2017年开始使用spring cloud开发微服务，并使用DDD领域驱动设计对微服务进行领域划分，DDD没有掌握太深，会一些基本技巧，工作中也是够用了。开发微服务面临很多问题，比如事务，了解了一些分布式事务的方案，但都比较麻烦，引入分布式框架让本身业务逻辑变得复杂，而且必然会让性能下降。所以遇到事务的问题，都是采用补偿性的措施达到最终一致性。

分布式日志收集也是一个问题，一开始自己架设ELK，但自己维护成本太大，最后使用aliyun的日志服务，集成到logback中无缝嵌入到微服务。

身份认证使用jwt oauth2 token，每一个微服务都要解析认证，一直觉得这部分是比较浪费和消耗性能的，后来使用了aws apigateway才了解到认证服务都放到统一入口的做法也是被认可的。

微服务之间调用使用feign client，每个微服务都会定义自己的sdk，其他微服务使用sdk去访问对应的微服务。曾调研过contract-oriented programming，但没找到机会应用到项目中。后来研究grpc的微服务框架，可以用protocol buffer定义service接口，并且自动生成swagger接口定义，也是一种不错的合约开发模式。

spring cloud提供的服务接口是基于rest的，最终提供给前端的api也是rest接口，这样造成一种惯性思想，就是微服务要提供给前端api调用接口，如果返回结果需要访问其他微服务就增加对其他微服务的调用。经过一段时间后才发现这样设计不合理，领域微服务应该只关注自身领域内的事情，尽量只提供基于领域对象简单的api，而对前端的API可以单独另外一个api微服务，api微服务根据接口需要，调用领域微服务获得数据组合返回。新公司提供api的方式也是这种模式。


2018年开始项目中使用golang语言，并使用aws的serverless产品lambda,结合aws apigateway对外提供服务。serverless产品的好处是你不用关心服务部署启动扩容缩容等问题，让业务开发回归到业务本身。并且提供很好的版本管理能力，轻松实现灰度发布，版本回滚等。新的几个项目都是基于golang+aws产品，相对于基于spring cloud的微服务开发，效率提升不少。

## 1.3. kubernetes

2018年开始推行容器化部署，逐步将项目中90%的服务docker容器化。

2018年还参加了一场关于微服务的技术峰会，了解到了service mesh的概念、istio框架，认识到kubernetes不仅在容器编排，更在下一代微服务发展中所处的关键地位，是时候学习kubernates了。

于是找来教程，全手工苦工一步步[安装kubernetes](https://github.com/wongoo/k8s-manual-files)环境。来到新公司最开始的计划也是要研发一个基于kubernets的云平台，后来被喊停了，因为组织结构调整以及“母公司”已经有运维部门的人在研究了，公司不想再重复的事情上浪费人力。

现在看kubernates之于微服务大有当年spring之于java开发一样无限灿烂的前景，极大可能发展为微服务开发必备技能之一。2019年还是要持续关注，有机会就要多学习。


## 1.4. 二进制编码

2017年开发声码解析服务的时候，制定了二进制传输协议，对如何定义字段内容格式，如何方便解析并兼顾性能上有一定的认识。今年又有机会研究protocol-buffer和hessian编码，发现还可以在数据压缩上做些文章。hessian设计之初主要考虑的是对java对象的序列化，设计上也处处为了适配java，整体设计还是很精炼的。而protocol-buffer一开始就制定了自己数据类型的规范，让各自语言去适配它，它的压缩比例也更高，关键还有google的持续维护和性能保证，开源软件采用protocol-buffer的也非常多。如果新项目建议使用protocol-buffer。


## 2. 知识感悟

之前偶尔写写博客，但2018年意识到之前写的内容都是比较零散，不成体系，一篇博文涵盖的内容单一，而自己开始想要整理一些系统化的知识内容，而系统化的内容不是一次两次就整理好的，需要长时间不断添加修改。2019年计划花大量时间整理各类知识库，梳理自己的知识网络，也全部都会放到github上。

知识这东西，要时常温习才能才能根深蒂固。明明自己做过的东西，讲不出个所以然来，那还是没有掌握好。之前可能不知道要温习什么，建立起自己的知识库，温习就方便了。


阮一峰大牛曾提到：**要认清楚什么是知识，什么是实施细节。**
> 当技术栈发生改变，实施细节就没有用了。程序员应该要警惕，不要落入实施细节的陷阱，不要把全部精力花在实施细节上面，然后以为自己学到了真正的知识。对待各种语言和工具，正确的态度应该是"进得去，出得来"，既要了解足够的细节，也要能够站在宏观的角度看待它，探寻底层到底是怎么实现的。

之前因为技术潮流变化快而产生危机感，现在意识到了知识和实施细节的差别，便改为对知识的缺乏的危机感。2019年要保持危机感，保持饥饿，多在真正的知识上下功夫。

技术知识上，想整理一个系列文章:`构建稳定的软件系统`。

除了技术知识，还有教育、航天科普、常见医学病理和药品也想整理，都是教育小孩和家庭用得着的。


## 3. 企业组织

想说说企业组织的一些事，主要也是当初第一次换工作，从传统技术公司到互联网公司，想了解互联网公司的模式。来到这家公司也快两年，也算见证了它主要的成长阶段，也看到很多问题。

互联网公司一般都会寻找一个蓝海，大力投入，并从中寻找到一种盈利模式，之后大量复制，占领用户心智空间。期间不断融资，提高估值，提升形象，确立行业地位。如果一切顺利，那就皆大欢喜。但常常会遇到很多问题。


## 3.1. 蓝海？红海？死海？

有时候创始人在一个行业中待得久了，看到了一个创业机会，觉得可以用互联网模式不断复制，形成商业机会，就开始投入资源去做。一开始以为是蓝海，做出产品去推广发现是红海。发现是红海后，也大多觉得可以从中分一杯羹，想继续投入去追赶行业领头羊。但抱着追赶的态度去做事，最后大多都是失败，因为一直追追不上，团队成员就会失去信心，如果还没有多少盈利，那就更没希望，终究得散。2017-2018年的一个项目就是这样的状态，但主要业务线负责人对这个项目始终怀抱信心，后面也意识到没有竞争力，但没有想要砍掉项目，而是往项目里面添加新的结合点，想让项目重燃生机。经过了一段时间，最后老板还是承受不了巨额的亏损把项目砍掉了。回过头看这个项目，实际上没有良好的盈利模式，可变风险太多，而且没有技术或业务壁垒。整个项目只是一个行业运营中很小的一部分的解决方案改良，没有必然替代性。这样的项目去推广可想而知遇到的阻遏有多大。与其说是闯入一片红海，还不如说走进了死海。



## 3.2 面对危机的处理方式

前公司2018年遭遇了一些危机，骨干人员出走，盈利模式遭到怀疑。老板找我们谈话加油鼓气，但谈话中并未表现出信心，相反却用恳求的语气让大家留下来和她一起努力。这话一出估计大家的心就凉凉的了。

前老板本身是比较开朗喜欢和员工打成一片的人，平时也善于激励员工，但遇到企业生死存亡的事情，采用恳求的方式是不妥的，毕竟员工不是合伙人？

员工对什么样的企业或者老板会有信心呢？我认为要：
- 有眼光，公司未来一片光明
- 有魄力，大刀阔斧当断则断，一路不通换他路
- 有梦想，有长远的规划和明确的方向
- 有钱，有钱可以让一些不可能变成可能

当然对于处于创业阶段的老板钱不多，就要以有眼光、有魄力、有梦想来激励感染员工，才能收到好的效果。伊隆·马斯克就是这样一位老板，他不怕员工离职，相反会大量辞退员工，但还会有源源不断的人希望去他公司工作，可见其号召力有多强。


## 3.3 技术岗位的用人策略

技术岗位的人比较特别，一般比较孤傲，一般会比较信服有能力的领导，如果一个能力比自己低的做了自己的领导便会满心不服。

创业公司需要人才，从外部引进投入较大也可能效果不好，更希望内部能出一些悍将。前公司会从内部晋升人才，但没有良好的评估机制，只需老板认可（努力有想法），让一个技术能力一般人做了技术负责人，技术部门的很多人都表示不满。如果他是外部引入的，可能大家怨言还没那么多；但之前大家一起共事知根知底，自然会不满。内部晋升还是得有同事领导评估这一环节。


## 3.4 个人目标与企业发展

从第一次换工作就确定了在技术上更多学习和发展，如果企业能够提供这样一个平台，并且能够看到自己努力和成果，这就是一个好的选择。前公司在技术上是比较开放的，也支持大家在技术上的研究和投入，但看不到业务前景，自己的努力不会产生价值，自然就选择放弃了。


## 4. 生活

2017,2018年都有亲人离世，2018年自己也打篮球受伤做了一个[前交叉手术](https://blog.sisopipo.com/2018/acl-medical-records/)在家休息了一个月, 母亲也不小心摔伤了手，丈母娘也做了一个大手术。真是一个多灾多难的一年。现在意识到买保险的重要性，父母该买保险的就要买了。平时也要更多关心陪伴他们，多带他们去旅游。

2019年希望大家一切都好，平平安安！2019年另外还有一个值得期待的事情就是家里将会增加一个新成员，期待你的到来！

